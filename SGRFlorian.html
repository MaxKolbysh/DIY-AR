<!DOCTYPE HTML>
<!--
	Hielo by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>test WebGL</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link rel="stylesheet" href="assets/css/main.css" />

		<!--Some modal css-->
	

		<link rel="shortcut icon" href="images/favicon_color.png" type="image/png">
	    
	    
	    <!-- The following libraries and polyfills are recommended to maximize browser support -->
	    <!-- NOTE: you must adjust the paths as appropriate for your project -->
	    
	    	    <!-- 游뚿 REQUIRED: Web Components polyfill to support Edge and Firefox < 63 -->
	    <script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.1.3/webcomponents-loader.js"></script>

	    <!-- 游누 OPTIONAL: Intersection Observer polyfill for better performance in Safari and IE11 -->
	    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>

	    <!-- 游누 OPTIONAL: Resize Observer polyfill improves resize behavior in non-Chrome browsers -->
	    <script src="https://unpkg.com/resize-observer-polyfill@1.5.0/dist/ResizeObserver.js"></script>

	    <!-- 游누 OPTIONAL: Fullscreen polyfill is needed to fully support AR features -->
	    <script src="https://unpkg.com/fullscreen-polyfill@1.0.2/dist/fullscreen.polyfill.js"></script>

	    <!-- 游누 OPTIONAL: Include prismatic.js for Magic Leap support -->
	    <script src="https://unpkg.com/@magicleap/prismatic/prismatic.min.js"></script>
	    
	    <!-- 游누 OPTIONAL: The :focus-visible polyfill removes the focus ring for some input types -->
	    <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>
	    <!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-38E6070C8J"></script>

		
		<!--Bootstrap-->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
		<!--Modal script-->
		
		<!-- Mqttp-->
    
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.2/mqttws31.js"></script>
		<script type="text/javascript" src="assets/js/mqtt.js"></script>




		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
		
		<!--Input datalist-->
		<script type="text/javascript" src="assets/js/datalist.js"></script>
		
		
		
	</head>
	<body class="subpage-nordfox">

		
								
								<div id="card">
								
									
									<!-- pol.plav.vl.plitka.b (Max 햌) -->
									
									<model-viewer  ondblclick="addHotspot()" onclick="selected()" id="modelblock" bounds="tight"    src="models/Florianmodel.glb" class="" 
									ar 
									ar-modes="webxr scene-viewer quick-look fallback" 
									ar-scale="auto" 
									magic-leap camera-controls environment-image="neutral" 
									shadow-intensity="1"
									orbit-sensitivity="0.7"

									camera-orbit="0deg 75deg 50%"
									max-camera-orbit="Infinity 88deg 50%"
									min-camera-orbit="-Infinity 2.5deg 15%"
									camera-controls enable-pan
									
								
									autoplay>
									<!--<button slot="hotspot-0" class="hotspot" id="hotspot-1" data-toggle="modal" data-target="#exampleModalCenter" data-sensornumber="sensor-1" data-position="-6.392534372203425m 1.6432752266295951m -11.44403185690411m" data-normal="0.20877452930871584m 0.9489210149546647m 0.23656310635712602m"><div id="elementdatacontainer-1" class="elementdatacontainer" data-sensortopic="VALUE/DE0161-SGR/TESTSENSORS/EF389C/TEMPERATURE"><div class="element-name">no name</div><div class="annotation"><span data-sensorval="sensor-1" id="spandata-1">sensor-1</span><span id="spanunit-1"> </span></div></div></button>-->
										
										



										<button class="btn btn-light" id = "controls-button" onclick="myOpenClosemenu()">Open menu</button>
										

										<!--
											<div class="dropdown" id="unit-button">
												<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton2" data-bs-toggle="dropdown" data-bs-auto-close="outside"  aria-expanded="false">
												  Filtr
												</button>
												<ul class="dropdown-menu dropdown-menu-dark" id="unit-button-list" aria-labelledby="dropdownMenuClickableInside">
												  <li><a class="dropdown-item active" href="#">Action</a></li>
												  <li><a class="dropdown-item" href="#">Another action</a></li>
												  <li><a class="dropdown-item" href="#">Something else here</a></li>
												  
												</ul>
											  </div>
											
										-->	

										  


										<div class="btn-group" role="group" id="nav-button" >
											<button type="button" class="btn btn-secondary" onclick="cameraPosition(this)" value="left" >Left</button>
											<button type="button" class="btn btn-secondary"  onclick="cameraPosition(this)" value="top">Top</button>
											<button type="button" class="btn btn-secondary"  onclick="cameraPosition(this)" value="front">Front</button>
											<button type="button" class="btn btn-secondary"  onclick="cameraPosition(this)" value="back">Back</button>
											<button type="button" class="btn btn-secondary"  onclick="cameraPosition(this)" value="right">Right</button>
										</div>


										
										
 

										<div class="progress-bar hide" slot="progress-bar">
											<div class="update-bar"></div>
										</div>

										<div id="sensor-container">
											<option class="sensor" id="sensor-0" data-sensorid="sensor-0" data-sensorval="sensor-0" data-sensortopic=""></option>
										</div>
										
									</model-viewer>




									  

									<div id="controls" class="dim">
										<label for="src">Input sensors topic:</label>
										<form  autocomplete="off" onsubmit="return false;"  >
										<div class="autocomplete">
											<input type="text" id="hotspottopic" name="hotspottopic" placeholder="Input topic">
										</div>

										</form>
										
										<label for="src">Input custom marker name and unit:</label>
										
										<form >
										
											<input type="text" id="hotspottext" name="hotspottext" placeholder="Input marker name ">
											<input type="text" id="hotspotunit" name="hotspotunit" placeholder="Input marker unit">

										</form>
									<!--	
										<label for="src">Sensors list:</label>
										
										<select id="src"  name="dropdown" > -->
											 
									<!--	</select><br>-->
								
										
										
										<div>
											<p>Status: <span id="connection-status" >...</span></p>
											
											
										</div>
											
										<div class="center">
											<button class="btn btn-light" onclick="myOpenClosemenu()">Hide menu</button>
											<!--<button class="btn" onclick="addHotspotButton()">Add Hotspot</button>-->
											<button class="btn btn-info" onclick="addHotspotlast()" data-toggle="tooltip" data-placement="top" title="Then click on the model to add a hotspot."><i class="bi bi-plus-circle" > </i>  Add hotspot</button>
											
											
										</div>
										
										
									  </div>


									
									

									


									

									

									

									
									

								

								    
								</div>
								<!-- Modal window-->
								<!-- Button trigger modal -->
								<!-- Button trigger modal -->
		
								
								<!-- Modal -->
								<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
									<div class="modal-dialog modal-dialog-centered" role="document">
									<div class="modal-content" >
										<div class="modal-header">
										<h5 class="modal-title" id="exampleModalLongTitle">Status:</h5>
										
											
										<div class="container-fluid">
											<div id="status" class="alert">
												<small>Loading...</small>
											</div>
											<div class="row">
												<div class="col">
													<div class="card">
														<div class="card-body">
															<div class="card-title">
																<!--<div id="mqtt-topic">topic</div>-->
																
																<p>Topic: <span id="topic-card-value"  class="text-muted float-center" data-sensor="">Unknown</span></p>
																<p>Sensor value: <span id="sensor-card-value" data-sensorval="" class="text-muted float-center">Unknown</span><span id="sensor-card-unit" class="text-muted float-center" >...</span></p>
																
																
															</div>
														</div>
														
														
													</div>
												</div>
											</div>
											
										</div>

										</div>
										<div class="modal-body">
											
											<input type="text" id="hotspottextmodal" name="hotspottext" placeholder="Change sensor name">
											<input type="text" id="hotspotunitchange" name="hotspotunitchange" placeholder="Change marker unit">
											<!--
											<form onSubmit="return false;">
											
												<input type="text" id="hotspottext" name="hotspottext" placeholder="Input sensor name">
											</form>
											-->

										</div>
										<div class="modal-footer">
										<button type="button" class="btn btn-danger" onclick="removeHotspot()" data-dismiss="modal">Delete marker</button>	
										<button type="button" class="btn btn-success" onclick="updateHotspot()" data-dismiss="modal">Update marker</button>
										<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
										</div>
									</div>
									</div>
								</div>

								<!--Modal wondow  for allert-->
								<div class="modal fade" id="ModalAlert" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog" role="document">
									  <div class="modal-content">
										<div class="modal-header">
										  <h5 class="modal-title" id="exampleModalLabel">Allert</h5>
										  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										  </button>
										</div>
										<div class="modal-body">
											<div class="alert alert-warning" role="alert">
												Input sensors topic first, to add on the 3dmodel
											  </div>
											
										</div>
										
									  </div>
									</div>
								  </div>
								
								


					</div>
				</div>
			</section>

			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="assets/js/elementinterface.js"></script>
			<!-- 游누 Include both scripts below to support all browsers! -->
			<!--Input datalist-->
			<script type="text/javascript" src="assets/js/datalist.js"></script>

		
		    <!-- Loads <model-viewer> for modern browsers: -->
			<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.js"></script>

			<!-- Loads <model-viewer> for old browsers like IE11: -->
			<script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
	</body>
</html>
